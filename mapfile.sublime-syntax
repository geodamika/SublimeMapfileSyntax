%YAML1.2
---
# See http://www.sublimetext.com/docs/3/syntax.html
# gr√ºn    entity.name.function.map 
# orange  variable.parameter.function.map
# violet  constant.numeric.map
# violet  constant.language.map
# rot     keyword.control.map
# cyan    support.function.map
name: Mapfile
file_extensions: [map]
first_line_match: MAP
scope: source.map
contexts:
  main:
    # Strings begin and end with quotes, and use backslashes as an escape
    # character
    - match: '"'
      scope: punctuation.definition.string.begin.map
      push: double_quoted_string

    # Strings begin and end with quotes, and use backslashes as an escape
    # character
    - match: "'"
      scope: entity.name.function.map # punctuation.definition.string.begin.map
      push: single_quoted_string

    # Comments begin with a '#' and finish at the end of the line
    - match: '#'
      scope: punctuation.definition.comment.map
      push: line_comment

    # Keywords are if, else for and while.
    # Note that blackslashes don't need to be escaped within single quoted
    # strings in YAML. When using single quoted strings, only single quotes
    # need to be escaped: this is done by using two single quotes next to each
    # other.

    - match: '\b(MAP|WEB|LAYER|METADATA|CLASS|STYLE|SYMBOL|VALIDATION|END)\b'
      scope: support.function.map

    - match: '\b(AGG|ALIGN|ANCHORPOINT|ANGLE|ANTIALIAS|API|ASP|AUTO|BACKGROUNDCOLOR|BANDS|BLOCKXSIZE|BLOCKYSIZE|BROWSEFORMAT|BUFFER|BYTE|CGI|CHARACTER|CLASSGROUP|CLASSITEM|CLUSTER|COLOR|COMPOSITE|COMPRESS|COMPRESSION|CONFIG|CONNECTION|CONNECTIONTYPE|DATA|DATAPATTERN|DEBUG|DITHER|DRIVER|DUMP|DUPLICATES|EMPTY|ENCODING|EPSG|ERROR|EUC|EXPRESSION|EXTENSION|EXTENT|FEATURE|FILLED|FILTER|FILTERITEM|FONT|FONTSET|FOOTER|FORCE|FORMATOPTION|FROM|GAMMA|GAP|GDAL|GDB|GEOMTRANSFORM|GEOS|GML|GPX|GRID|GRIDSTEP|GROUP|HEADER|IIS|IMAGE|IMAGECOLOR|IMAGEMODE|IMAGEPATH|IMAGETYPE|IMAGEURL|INCLUDE|INITIALGAP|INSPIRE|INTERLACE|INTERLEAVE|INTERVALS|ISO|ITEMS|JIS|JOIN|KEYIMAGE|KEYSIZE|KEYSPACING|LABEL|LABELCACHE|LABELFORMAT|LABELITEM|LABELMAXSCALEDENOM|LABELMINSCALEDENOM|LABELREQUIRES|LABELS|LEADER|LEGEND|LEGENDFORMAT|LINECAP|LINEJOIN|LINEJOINMAXSIZE|LUT|MARKER|MARKERSIZE|MASK|MAXARCS|MAXBOXSIZE|MAXCLASSES|MAXDISTANCE|MAXFEATURES|MAXGEOWIDTH|MAXINTERVAL|MAXLENGTH|MAXOVERLAPANGLE|MAXSCALEDENOM|MAXSIZE|MAXSTYLES|MAXSUBDIVIDE|MAXSYMBOLS|MAXTEMPLATE|MAXWIDTH|MIMETYPE|MINARCS|MINBOXSIZE|MINDISTANCE|MINFEATURESIZE|MINGEOWIDTH|MININTERVAL|MINSCALEDENOM|MINSIZE|MINSUBDIVIDE|MINTEMPLATE|MINWIDTH|NAME|NET|NULLVALUE|OFFSET|OFFSITE|OGC|OGR|OGRINFO|OPACITY|OUTLINECOLOR|OUTLINEWIDTH|OUTPUTFORMAT|PALETTE|PARTIALS|PATTERN|PDF|PHP|PLUGIN|POINTS|POLAROFFSET|POSITION|POSTLABELCACHE|PRIORITY|PROCESSING|PROJECTION|QUALITY|QUERYFORMAT|QUERYMAP|REFERENCE|REGION|REPEATDISTANCE|REQUIRES|RESAMPLE|RESOLUTION|RGB|RGBA|ROSA|SCALE|SCALEBAR|SCALEDENOM|SHADOWCOLOR|SHADOWSIZE|SHAPEPATH|SIZE|SIZEUNITS|SLD|SOS|SQL|SRS|STARTINDEX|STATUS|STYLEITEM|SWF|SWIG|SYMBOLSCALEDENOM|SYMBOLSET|TABLE|TEMPLATE|TEMPLATEPATTERN|TEMPPATH|TEXT|TILED|TILEINDEX|TILEITEM|TILESRS|TIS|TOLERANCE|TOLERANCEUNITS|TRANSFORM|TRANSPARENT|TYPE|UNITS|URL|UTF|UTFDATA|UTFGRID|UTFITEM|UTFRESOLUTION|WIDTH|WMC|WORLDFILE|WRAP|XMP)\b'
      scope: keyword.control.map



    # Numbers
    - match: '\b(-)?[0-9.]+\b'
      scope: constant.numeric.map
    # Bool
    - match: '\b(on|off|true|false)\b'
      scope: constant.language.map #constant.language.map

  double_quoted_string:
    - meta_scope: string.quoted.double.map
    - match: '\b(ows_title|ows_onlineresource|ows_srs|ows_enable_request|geolion_gds|wms_name|wms_server_version|wms_format|wms_proxy_host|wms_proxy_port|wms_sld_url|gml_[a-z]+_occurances|gml_[a-z]+_type|gml_[a-z]+_group|gml_[a-z_]+_alias|gml_[a-z]+_precision|gml_[a-z]+_type|gml_[a-z]+_value|gml_[a-z]+_width|gml_constants|gml_default_items|gml_exclude_items|gml_featureid|gml_geometries|gml_groups|gml_include_items|gml_mandatory_items|gml_optional_items|gml_types|gml_xml_items|labelcache_map_edge_buffer|ms_enable_modes|ows_allowed_ip_list|ows_denied_ip_list|ows_http_max_age|ows_language|ows_schemas_location|ows_sld_enabled|ows_updatesequence|sos_[a-z]+_alias|sos_[a-z]+_definition|sos_[a-z]+_uom|sos_abstract|sos_accessconstraints|sos_address|sos_addresstype|sos_allowed_ip_list|sos_city|sos_contactelectronicmailaddress|sos_contactfacsimiletelephone|sos_contactinstructions|sos_contactorganization|sos_contactperson|sos_contactposition|sos_contactvoicetelephone|sos_country|sos_denied_ip_list|sos_describesensor_url|sos_enable_request|sos_encoding_blockSeparator|sos_encoding_tokenSeparator|sos_fees|sos_hoursofservice|sos_keywordlist|sos_maxfeatures|sos_observedproperty_authority|sos_observedproperty_id|sos_observedproperty_name|sos_observedproperty_version|sos_offering_description|sos_offering_extent|sos_offering_id|sos_offering_intendedapplication|sos_offering_name|sos_offering_timeextent|sos_onlineresource|sos_postcode|sos_procedure|sos_procedure_item|sos_role|sos_service_onlineresource|sos_srs|sos_stateorprovince|sos_timeitem|sos_title|wcs_abstract|wcs_accessconstraints|wcs_address|wcs_allowed_ip_list|wcs_city|wcs_contactelectronicmailaddress|wcs_contactfacimiletelephone|wcs_contactorganization|wcs_contactperson|wcs_contactposition|wcs_contactvoicetelephone|wcs_country|wcs_denied_ip_list|wcs_description|wcs_enable_request|wcs_extent|wcs_fees|wcs_formats|wcs_keywords|wcs_label|wcs_metadatalink_format|wcs_metadatalink_href|wcs_metadatalink_type|wcs_name|wcs_native_format|wcs_nativeformat|wcs_postcode|wcs_rangeset_axes|wcs_rangeset_label|wcs_rangeset_name|wcs_responsibleparty_address_administrativearea|wcs_responsibleparty_address_city|wcs_responsibleparty_address_country|wcs_responsibleparty_address_deliverypoint|wcs_responsibleparty_address_electronicmailaddress|wcs_responsibleparty_address_postalcode|wcs_responsibleparty_individualname|wcs_responsibleparty_onlineresource|wcs_responsibleparty_organizationname|wcs_responsibleparty_phone_facsimile|wcs_responsibleparty_phone_voice|wcs_responsibleparty_postionname|wcs_service_onlineresource|wcs_srs|wcs_stateorprovince|wcs_timeitem|wcs_timeposition|wfs_[a-z]+_filedef|wfs_[a-z]+_inlinedef|wfs_abstract|wfs_accessconstraints|wfs_allowed_ip_list|wfs_anable_request|wfs_compute_number_matched|wfs_denied_ip_list|wfs_encoding|wfs_extent|wfs_feature_collection|wfs_featureid|wfs_fees|wfs_getcapabilities_version|wfs_getfeature_formatlist|wfs_keywordlist|wfs_languages|wfs_maxfeatures|wfs_metadataurl_about|wfs_metadataurl_format|wfs_metadataurl_href|wfs_metadataurl_type|wfs_namespace_prefix|wfs_namespace_uri|wfs_onlineresource|wfs_return_srs_as_urn|wfs_service_onlineresource|wfs_srs|wfs_storedqueries|wfs_title|wms_abstract|wms_accessconstraints|wms_address|wms_addresstype|wms_allowed_ip_list|wms_attribution_logourl_format|wms_attribution_logourl_height|wms_attribution_logourl_href|wms_attribution_logourl_width|wms_attribution_onlineresource|wms_attribution_title|wms_authorityurl_href|wms_authorityurl_name|wms_bbox_extended|wms_city|wms_contactelectronicmailaddress|wms_contactfacsimiletelephone|wms_contactorganization|wms_contactperson|wms_contactposition|wms_contactvoicetelephone|wms_country|wms_dataurl_format|wms_dataurl_href|wms_denied_ip_list|wms_enable_request|wms_encoding|wms_exclude_items|wms_extent|wms_feature_info_mime_type|wms_fees|wms_getcapabilities_version|wms_getfeatureinfo_formatlist|wms_getlegendgraphic_formatlist|wms_getmap_formatlist|wms_group_abstract|wms_group_title|wms_identifier_authority|wms_identifier_value|wms_include_items|wms_keywordlist|wms_keywordlist_[a-z]+_items|wms_keywordlist_vocabulary|wms_languages|wms_layer_group|wms_layerlimit|wms_metadataurl_format|wms_metadataurl_href|wms_metadataurl_type|wms_onlineresource|wms_opaque|wms_postcode|wms_remote_sld_max_bytes|wms_resx|wms_resy|wms_rootlayer_abstract|wms_rootlayer_keywordlist|wms_rootlayer_title|wms_service_onlineresource|wms_srs|wms_stateorprovince|wms_style|wms_style_[a-z]+_legendurl_format|wms_style_[a-z]+_legendurl_height|wms_style_[a-z]+_legendurl_href|wms_style_[a-z]+_legendurl_width|wms_timeextent|wms_timeformat|wms_timeitem|wms_title)\b'
      scope: variable.parameter.function.map
    - match: '\\.'
      scope: constant.character.escape.map
    - match: '"'
      scope: punctuation.definition.string.end.map
      pop: true

  single_quoted_string:
    - meta_scope: entity.name.function.map #string.quoted.single.map
    - match: '\b(ows_title|ows_onlineresource|ows_srs|ows_enable_request|geolion_gds|wms_name|wms_server_version|wms_format|wms_proxy_host|wms_proxy_port|wms_sld_url|gml_[a-z]+_occurances|gml_[a-z]+_type|gml_[a-z]+_group|gml_[a-z_]+_alias|gml_[a-z]+_precision|gml_[a-z]+_type|gml_[a-z]+_value|gml_[a-z]+_width|gml_constants|gml_default_items|gml_exclude_items|gml_featureid|gml_geometries|gml_groups|gml_include_items|gml_mandatory_items|gml_optional_items|gml_types|gml_xml_items|labelcache_map_edge_buffer|ms_enable_modes|ows_allowed_ip_list|ows_denied_ip_list|ows_http_max_age|ows_language|ows_schemas_location|ows_sld_enabled|ows_updatesequence|sos_[a-z]+_alias|sos_[a-z]+_definition|sos_[a-z]+_uom|sos_abstract|sos_accessconstraints|sos_address|sos_addresstype|sos_allowed_ip_list|sos_city|sos_contactelectronicmailaddress|sos_contactfacsimiletelephone|sos_contactinstructions|sos_contactorganization|sos_contactperson|sos_contactposition|sos_contactvoicetelephone|sos_country|sos_denied_ip_list|sos_describesensor_url|sos_enable_request|sos_encoding_blockSeparator|sos_encoding_tokenSeparator|sos_fees|sos_hoursofservice|sos_keywordlist|sos_maxfeatures|sos_observedproperty_authority|sos_observedproperty_id|sos_observedproperty_name|sos_observedproperty_version|sos_offering_description|sos_offering_extent|sos_offering_id|sos_offering_intendedapplication|sos_offering_name|sos_offering_timeextent|sos_onlineresource|sos_postcode|sos_procedure|sos_procedure_item|sos_role|sos_service_onlineresource|sos_srs|sos_stateorprovince|sos_timeitem|sos_title|wcs_abstract|wcs_accessconstraints|wcs_address|wcs_allowed_ip_list|wcs_city|wcs_contactelectronicmailaddress|wcs_contactfacimiletelephone|wcs_contactorganization|wcs_contactperson|wcs_contactposition|wcs_contactvoicetelephone|wcs_country|wcs_denied_ip_list|wcs_description|wcs_enable_request|wcs_extent|wcs_fees|wcs_formats|wcs_keywords|wcs_label|wcs_metadatalink_format|wcs_metadatalink_href|wcs_metadatalink_type|wcs_name|wcs_native_format|wcs_nativeformat|wcs_postcode|wcs_rangeset_axes|wcs_rangeset_label|wcs_rangeset_name|wcs_responsibleparty_address_administrativearea|wcs_responsibleparty_address_city|wcs_responsibleparty_address_country|wcs_responsibleparty_address_deliverypoint|wcs_responsibleparty_address_electronicmailaddress|wcs_responsibleparty_address_postalcode|wcs_responsibleparty_individualname|wcs_responsibleparty_onlineresource|wcs_responsibleparty_organizationname|wcs_responsibleparty_phone_facsimile|wcs_responsibleparty_phone_voice|wcs_responsibleparty_postionname|wcs_service_onlineresource|wcs_srs|wcs_stateorprovince|wcs_timeitem|wcs_timeposition|wfs_[a-z]+_filedef|wfs_[a-z]+_inlinedef|wfs_abstract|wfs_accessconstraints|wfs_allowed_ip_list|wfs_anable_request|wfs_compute_number_matched|wfs_denied_ip_list|wfs_encoding|wfs_extent|wfs_feature_collection|wfs_featureid|wfs_fees|wfs_getcapabilities_version|wfs_getfeature_formatlist|wfs_keywordlist|wfs_languages|wfs_maxfeatures|wfs_metadataurl_about|wfs_metadataurl_format|wfs_metadataurl_href|wfs_metadataurl_type|wfs_namespace_prefix|wfs_namespace_uri|wfs_onlineresource|wfs_return_srs_as_urn|wfs_service_onlineresource|wfs_srs|wfs_storedqueries|wfs_title|wms_abstract|wms_accessconstraints|wms_address|wms_addresstype|wms_allowed_ip_list|wms_attribution_logourl_format|wms_attribution_logourl_height|wms_attribution_logourl_href|wms_attribution_logourl_width|wms_attribution_onlineresource|wms_attribution_title|wms_authorityurl_href|wms_authorityurl_name|wms_bbox_extended|wms_city|wms_contactelectronicmailaddress|wms_contactfacsimiletelephone|wms_contactorganization|wms_contactperson|wms_contactposition|wms_contactvoicetelephone|wms_country|wms_dataurl_format|wms_dataurl_href|wms_denied_ip_list|wms_enable_request|wms_encoding|wms_exclude_items|wms_extent|wms_feature_info_mime_type|wms_fees|wms_getcapabilities_version|wms_getfeatureinfo_formatlist|wms_getlegendgraphic_formatlist|wms_getmap_formatlist|wms_group_abstract|wms_group_title|wms_identifier_authority|wms_identifier_value|wms_include_items|wms_keywordlist|wms_keywordlist_[a-z]+_items|wms_keywordlist_vocabulary|wms_languages|wms_layer_group|wms_layerlimit|wms_metadataurl_format|wms_metadataurl_href|wms_metadataurl_type|wms_onlineresource|wms_opaque|wms_postcode|wms_remote_sld_max_bytes|wms_resx|wms_resy|wms_rootlayer_abstract|wms_rootlayer_keywordlist|wms_rootlayer_title|wms_service_onlineresource|wms_srs|wms_stateorprovince|wms_style|wms_style_[a-z]+_legendurl_format|wms_style_[a-z]+_legendurl_height|wms_style_[a-z]+_legendurl_href|wms_style_[a-z]+_legendurl_width|wms_timeextent|wms_timeformat|wms_timeitem|wms_title)\b'
      scope: variable.parameter.function.map
    - match: '\\.'
      scope: entity.name.function.map # constant.character.escape.map
    - match: "'"
      scope: entity.name.function.map # punctuation.definition.string.end.map
      pop: true

  line_comment:
    - meta_scope: comment.line.map
    - match: $
      pop: true

